#!/bin/bash
# Node Security Platform (NSP) - Security Scan for Node.js Modules
# Options:
# -o : Output format
# -d : Directory to scan

# Usage: nsp_js.sh <directory>
# Example script
# nsp_js.sh /path/to/nodejs/app

# Check if nsp is installed
if ! command -v nsp &> /dev/null
then
    echo "nsp could not be found, please install it first."
    exit
fi

# Ensure directory is provided
if [ -z "$1" ]; then
    echo "Usage: $0 <directory>"
    exit 1
fi

DIRECTORY=$1

echo "Starting NSP scan on directory $DIRECTORY"

# Perform NSP scan
nsp check --output json --directory $DIRECTORY > nsp_scan_results.json

echo "NSP scan completed. Results saved in nsp_scan_results.json"
